# /test-coverage

テストカバレッジを分析・改善するコマンド。

## 実行手順

1. **カバレッジ測定**
```bash
bun test --coverage
```

2. **分析**
   - 80%未満のファイルを特定
   - カバーされていない行を確認
   - 優先順位を決定

3. **テスト追加**

### 優先順位

1. **クリティカル（100%必須）**
   - 認証ロジック
   - 決済処理
   - セキュリティ関連

2. **高（90%目標）**
   - APIエンドポイント
   - ビジネスロジック

3. **中（80%目標）**
   - ユーティリティ
   - コンポーネント

4. **テストシナリオ**
   - 正常系（ハッピーパス）
   - 異常系（エラーケース）
   - 境界値
   - エッジケース

5. **検証**
```bash
bun test --coverage
```

6. **レポート**
```markdown
## カバレッジ改善

### Before
- 全体: XX%
- 対象ファイル: XX%

### After
- 全体: XX%
- 対象ファイル: XX%

### 追加テスト
- `file.test.ts` - XX件
```

## 目標

- 全体: 80%以上
- クリティカル: 100%
- 新規コード: 80%以上

## テストタイプ

- ユニットテスト: 個別関数
- 統合テスト: API、DB
- E2Eテスト: ユーザーフロー
