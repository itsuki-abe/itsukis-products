# /tdd

テスト駆動開発を実行するコマンド。

## TDDサイクル

1. **RED**: 失敗するテストを書く
2. **GREEN**: テストを通す最小限のコードを書く
3. **REFACTOR**: コードを改善
4. **REPEAT**: 次の機能へ

## 実行手順

1. **インターフェース定義**
   - 型・コントラクトを先に定義

2. **テスト作成**
   - 失敗するテストを書く
   - エッジケースを含める

3. **実装**
   - テストを通す最小限のコード
   - 過剰な実装をしない

4. **検証**
```bash
bun test
```

5. **リファクタリング**
   - テストが通る状態を維持
   - コード品質を向上

6. **カバレッジ確認**
```bash
bun test --coverage
```

## カバレッジ目標

- **全体**: 80%以上
- **クリティカル**: 100%
  - 認証ロジック
  - 決済処理
  - セキュリティ関連

## テストパターン

```typescript
import { describe, it, expect, vi } from 'vitest'

describe('機能名', () => {
  it('正常系: 期待する動作', () => {
    // Arrange
    // Act
    // Assert
  })

  it('異常系: エラーケース', () => {
    // ...
  })

  it('境界値: 最小/最大', () => {
    // ...
  })
})
```

## エッジケース

- [ ] null/undefined
- [ ] 空配列/空文字列
- [ ] 不正な型
- [ ] 境界値
- [ ] エラーケース

## 原則

- テストなしでコードを書かない
- 各変更後にテストを実行
- 実装の詳細ではなく振る舞いをテスト
